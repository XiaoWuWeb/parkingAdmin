<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<title>地图模块</title>
		<meta name="renderer" content="webkit">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		<!--<meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">-->
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<link rel="stylesheet" href="../../css/layui.css" media="all">
		<link rel="stylesheet" type="text/css" href="../../css/common.css" />
		<link rel="stylesheet" type="text/css" href="mapModule.css" />
		<script src="../../js/jquery.min.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript" src="https://api.map.baidu.com/api?v=2.0&ak=rUvDHOfS2tDTqKFEetiGUrbsCCGGlYIw&s=1"></script>
		<script src="../../js/distpicker.data.js" type="text/javascript" charset="utf-8"></script>
		<script src="../../js/distpicker.js" type="text/javascript" charset="utf-8"></script>
		<script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
		<script src="../../js/jquery.cookie.js" type="text/javascript" charset="utf-8"></script>
	</head>

	<body class="layui-layout-body">
		<div class="layui-layout layui-layout-admin">
			<div class="layui-header header">
				<div class="admin-name">泊车后台管理系统</div>
				<ul class="layui-nav layui-layout-right admin-info">
					<li class="layui-nav-item">
						<a href="javascript:;">
							<img src="../../images/top-nav_icon_welcome.png" class="layui-nav-img nav_icon_welcome"> 欢迎，
							<span class="user_name">系统管理员</span>
							<img class="nav_icon_arrow" src="../../images/top-nav_icon_arrow1.png"/>
						</a>
						<dl class="layui-nav-child">
							<dd>
								<a class="change_password" href="javascript:;">修改密码</a>
							</dd>
							<dd>
								<a class="pull_out" href="javascript:;">退出账号</a>
							</dd>
						</dl>
					</li>
				</ul>
			</div>

			<div class="layui-side layui-bg-black">
				<div class="layui-side-scroll inner">
					<div class="nav innerbox" id="nav">
						<ul>
							<li class="map-nav current">
								<a style="color: #fff;" href="javascript:;">地图模块</a>
							</li>
							<li class="parking-nav">
								<a href="../parking/parkingAdmin.html">车位管理</a>
								<img class="icon_arrow" src="../../images/left-nav_icon_arrow.png"></img>
							</li>
							<li class="fix-nav nav-item" data="0">
								<a href="javascript:;">运维管理</a>
								<img class="icon_arrow" src="../../images/left-nav_icon_arrow.png"></img>
								<ul class="nav-child">
									<li class="fixFailure">
										<a href="../fix/fixFailure.html">故障管理</a>
									</li>
									<li class="fixInfraction">
										<a href="../fix/fixInfraction.html">违规停放</a>
									</li>
									<li class="fixFeedback">
										<a href="../fix/fixFeedback.html">客户反馈</a>
									</li>
									<li class="fixMoney">
										<a href="../fix/fixMoney.html">鼓励金管理</a>
									</li>
								</ul>
							</li>
							<li class="users-nav nav-item" data="0">
								<a href="javascript:;">用户管理</a>
								<img class="icon_arrow" src="../../images/left-nav_icon_arrow.png"></img>
								<ul class="nav-child">
									<li class="usersList">
										<a href="../users/usersList.html">用户列表</a>
									</li>
									<li class="usersRecharge">
										<a href="../users/usersRecharge.html">充值记录</a>
									</li>
									<li class="usersConsu">
										<a href="../users/usersConsu.html">消费记录</a>
									</li>
									<li class="usersValidation">
										<a style="width: 75%;" href="../users/usersValidation.html">实名验证记录</a>
									</li>
									<li class="usersMessage">
										<a href="../users/usersMessage.html">系统消息</a>
									</li>
								</ul>
							</li>
							<li class="owners-nav nav-item" data="0">
								<a href="javascript:;">业主管理</a>
								<img class="icon_arrow" src="../../images/left-nav_icon_arrow.png"></img>
								<ul class="nav-child">
									<li class="ownersList">
										<a href="../owners/ownersList.html">用户列表</a>
									</li>
									<li class="ownersRequestRecord">
										<a style="width: 85%;" href="../owners/ownersRequestRecord.html">车位申请记录</a>
									</li>
									<li class="ownersMoneyList">
										<a href="../owners/ownersMoneyList.html">提现申请</a>
									</li>
									<li class="ownersRevenueList">
										<a href="../owners/ownersRevenueList.html">收入记录</a>
									</li>
								</ul>
							</li>
							<li class="agency-nav">
								<a href="../agency/agencyAdmin.html">代理商管理</a>
								<img class="icon_arrow" src="../../images/left-nav_icon_arrow.png"></img>
							</li>
							<li class="traffic-nav nav-item" data="0">
								<a href="javascript:;">交通部门</a>
								<img class="icon_arrow" src="../../images/left-nav_icon_arrow.png"></img>
								<ul class="nav-child">
									<li class="trafficList">
										<a href="../traffic/trafficList.html">用户列表</a>
									</li>
									<li class="trafficInfo">
										<a href="../traffic/trafficInfo.html">信息管理</a>
									</li>
									<li class="trafficInfraction">
										<a href="../traffic/trafficInfraction.html">违停推送</a>
									</li>
								</ul>
							</li>
							<li class="use-nav">
								<a href="../use/useInstructions.html">使用说明</a>
								<img class="icon_arrow" src="../../images/left-nav_icon_arrow.png"></img>
							</li>
							<li class="bill-nav nav-item" data="0">
								<a href="javascript:;">流水账单</a>
								<img class="icon_arrow" src="../../images/left-nav_icon_arrow.png"></img>
								<ul class="nav-child">
									<li class="billTotal">
										<a href="../bill/billTotal.html">总流水</a>
									</li>
									<li class="billAlipay">
										<a href="../bill/billAlipay.html">支付宝流水</a>
									</li>
									<li class="billWeChat">
										<a href="../bill/billWeChat.html">微信流水</a>
									</li>
									<li class="billBankCard">
										<a href="../bill/billBankCard.html">银行卡流水</a>
									</li>
									<li class="billApplePay">
										<a href="../bill/billApplePay.html">Apple pay</a>
									</li>
								</ul>
							</li>
							<li class="setup-nav nav-item" data="0">
								<a href="javascript:;">系统设置</a>
								<img class="icon_arrow" src="../../images/left-nav_icon_arrow.png"></img>
								<ul class="nav-child">
									<li class="setupWarden">
										<a href="../setup/setupWarden.html">管理员设置</a>
									</li>
									<li class="setupOperation">
										<a href="../setup/setupOperation.html">运营管理</a>
									</li>
									<li class="setupAlipay">
										<a href="../setup/setupAlipay.html">支付宝设置</a>
									</li>
									<li class="setupWeChat">
										<a style="width: 85%;" href="../setup/setupWeChat.html">微信支付设置</a>
									</li>
									<li class="setupBankCard">
										<a style="width: 85%;" href="../setup/setupBankCard.html">银行卡支付设置</a>
									</li>
									<li class="setupApplePay">
										<a style="width: 85%;" href="../setup/setupApplePay.html">Apple pay设置</a>
									</li>
									<li class="setupValidation">
										<a style="width: 95%;" href="../setup/setupValidation.html">实名验证接口设置</a>
									</li>
									<li class="setupAdmin">
										<a href="../setup/setupAdmin.html">版本管理</a>
									</li>
									<li class="setupLogbook">
										<a href="../setup/setupLogbook.html">操作日志</a>
									</li>
								</ul>
							</li>
						</ul>
					</div>
				</div>
			</div>
			<div class="inner">
				<div class="layui-body innerbox">
					<div class="info-nav">
						<p class="info-cont">当前位置：<i>地图模块</i><i class="info-tail">车位状态图</i></p>
						<span class="time-cycle" id="time-cycle"></span>
					</div>
					<div class="search-toggle clearfix">
						<form class="form-inline">
							<div id="distpicker5">
								<div class="form-group">
									<select class="form-control" id="province10"></select>
									<img src="../../images/search_icon_arrow.png" />
								</div>
								<div class="form-group">
									<select class="form-control" id="city10"></select>
									<img src="../../images/search_icon_arrow.png" />
								</div>
								<div class="form-group">
									<select class="form-control" id="district10"></select>
									<img src="../../images/search_icon_arrow.png" />
								</div>
								<div class="search-btn">搜索</div>
							</div>
						</form>
						<div class="toggle-box" data="0">
							<img class="graph_icon" src="../../images/graph_icon.png" />
							<p>车位覆盖图</p>
						</div>
					</div>
					<!--<ul class="select-state">
						<li class="parking_space">
							<img src="../../images/lot_P_icon.png" />
							<p>智慧车位</p>
						</li>
						<li class="parking_lock">
							<img src="../../images/lock_free_icon.png" />
							<p>车位锁</p>
						</li>
						<li class="parking_charging">
							<img src="../../images/lot_charge_icon.png" />
							<p>充电车位</p>
						</li>
					</ul>-->
					<div id="map"></div>
					<div id="main" style="width: 100%; height: 820px;"></div>
				</div>
			</div>
		</div>
		<style type="text/css">
			.BMap_cpyCtrl {
				display: none;
			}
			
			.anchorBL {
				display: none;
			}
		</style>
		<!--<script src="../../js/layui.js" charset="utf-8"></script>-->
		<script type="text/javascript" src="https://cdn.goeasy.io/goeasy.js"></script>
		<script src="../../layer-v3.1.0/layer/layer.js"></script>
		<script src="../../js/common.js" type="text/javascript" charset="utf-8"></script>
		<script src="../../js/echarts.min.js" charset="utf-8"></script>
		<!-- <script src="http://gallery.echartsjs.com/dep/echarts/map/js/china.js?s=1" type="text/javascript" charset="utf-8"></script> -->
		<script src="china.js" type="text/javascript" charset="utf-8"></script>
		<script src="mapModule.js" type="text/javascript" charset="utf-8"></script>
		<!--<script type="text/javascript">
    		layui.use('element', function() {
				var element = layui.element;
			});
    	</script>-->
		<script>
			common.ajax('/pkmg/allPark','',function(res){
				var oArrData = [];
				var oData = {};
				for (var prop in res) {
					switch(prop){
		                case 'SHCount':
		                	oData.name = '上海';
		                  	break;
		                case 'GanXCount':
		                	oData.name = '甘肃';
		                  	break;
		                case 'GZCount':
		                	oData.name = '贵州';
		                  	break;
		                case 'HaiNCount':
		                	oData.name = '海南';
							break;
						case 'AHCount':
							oData.name = '安徽';
		                  	break;
		                case 'JSCount':
		                	oData.name = '江苏';
		                  	break;
		                case 'ZJCount':
		                	oData.name = '浙江';
		                  	break;
		                case 'XJCount':
		                	oData.name = '新疆';
		                  	break;  	
		                case 'QHCount':
		                	oData.name = '青海';
		                  	break; 
		                case 'XZCount':
		                	oData.name = '西藏';
		                  	break;
		                case 'NXCount':
		                	oData.name = '宁夏';
		                  	break;
		                case 'NMCount':
		                	oData.name = '内蒙古';
		                  	break;  	
		                case 'GDCount':
		                	oData.name = '广东';
		                  	break;  		
		                case 'FJCount':
		                	oData.name = '福建';
		                  	break;  	
		                case 'GXCount':
		                	oData.name = '广西';
		                  	break;  	
		                case 'HNCount':
		                	oData.name = '河南';
		                  	break;
		                case 'HuNCount':
		                	oData.name = '湖南';
		                  	break;  	
		                case 'JXCount':
		                	oData.name = '江西';
		                  	break;  	
		                case 'BJCount':
		                	oData.name = '北京';
		                  	break;  	
		                case 'JLCount':
		                	oData.name = '吉林';
		                  	break;  	
		                case 'LNCount':
		                	oData.name = '辽宁';
		                  	break;
		                case 'HLCount':
		                	oData.name = '黑龙江';
		                  	break;
		                case 'TJCount':
		                	oData.name = '天津';
		                  	break;
		                case 'SDCount':
		                	oData.name = '山东';
		                  	break;
		                case 'SanXCount':
		                	oData.name = '山西';
		                  	break;
		                case 'HBCount':
		                	oData.name = '河北';
		                  	break;
		                case 'ShangXCount':
		                	oData.name = '陕西';
		                  	break;  	
		                case 'SCCount':
		                	oData.name = '四川';
		                  	break;  	
		                case 'CQCount':
		                	oData.name = '重庆';
		                  	break;
		                case 'YNCount':
		                	oData.name = '云南';
		                  	break;
		                case 'TWCount':
		                	oData.name = '台湾';
		                  	break;
		                case 'HuBCount':
		                	oData.name = '湖北';
		                  	break;
		                case 'XGCount':
		                	oData.name = '香港';
		                  	break;
		                default:
		                	oData.name = '南海诸岛';
		           }
					oData.value = res[prop];
					oArrData.push(oData);
					oData = {};
				}
				
				console.log(oArrData);
			var myChart = echarts.init(document.getElementById('main'));
			myChart.setOption(
				option = {
					title: {
						top: '2%',
						text: '车位覆盖量 （个）',
						left: 'center'
					},
					tooltip: {
						trigger: 'item',
						formatter: function(params) {
							var value = (params.value);
							value = value + ' 个';
							return params.name + ' : ' + value;
						}
					},
					visualMap: {
						show: true,
						width:1000,
						type: 'piecewise', //分段型。
						splitNumber: 5,
						inverse: true,
						pieces: [{
							lte: 500,
							color: '#acb4bc',
							position:'right'
						}, {
							min: 500,
							max: 1000,
							color: '#aed5ff'
						}, {
							min: 1000,
							max: 2000,
							color: '#4f97e5'
						}, {
							min: 2000,
							max: 3000,
							color: '#2678d0'
						}, {
							min: 3000,
							max: 4000,
							color: '#115daf'
						}, {
							min: 4000,
							max: 5000,
							color: '#054181'
						}, ],
						right: '100',
						bottom: '120',
						textStyle: {
							color: '#000'
						},
					},
					series: [{
						name: '车位覆盖量',
						type: 'map',
						mapType: 'china',
						roam: true,
						label: {
							normal: {
								show: false
							},
							emphasis: {
								show: true,
								areaColor: '#FFFFFF'
							}
						},
						data:oArrData,
					}, ]
				}
			)
			});
			
		</script>
	</body>

</html>